链接文件是Linux文件系统的一个优势。如需要在系统上维护同一文件的两份或多份副本，除了保存多份单独的物理文件副本之外，还可以采用保存一份物理文件副本和多个虚拟副本的方法。这种虚拟的副本就成为**链接**。在Linux中有两种不同类型的文件链接：

+ 软链接（符号链接）
+ 硬链接

## 硬链接

文件或目录的inode编号是一个用于标识的唯一的数字，这个数字由内核分配给文件系统中的每一个对象，可以将其简单地理解为C中的指针，它指向了物理硬盘的一个区块，文件系统会维护一个引用计数，只要有文件指向这个区块，它就不会从硬盘上消失。

硬链接会创建虚拟文件，其中包含了原始文件的信息及位置。但是他们从根本上而言是**同一个文件**，指向同一个区块，共享inode编号，一个文件被修改后，在其他硬链接文件中将会看到修改结果。

如果为文件A创建一个硬链接B，那么A的inode节点号与B的inode节点号相同，即一个inode节点号对应两个不同的文件名。**A和B之间是完全平等的，删除其中一个对另一个没有影响**。每增加一个文件，inode节点上的链接数加一，删除一个文件，inode节点上的链接数将会减一，如果链接数为零，则inode节点以及对应的数据块将会被回收。

## 软链接

软链接将会创建一个实实在在的文件，它指向存放在虚拟目录结构中某个地方的另一个文件。这两个通过符号链接在一起的文件，彼此的内容并不相同。

如果为文件A创建一个软链接B，那么A的inode节点号与B的inode节点号不同，A和B指向的是不同的inode，即指向不同的数据块。**但是B数据块中存放的只是A的路径，B可以根据这个路径找到A**。A和B之间是“主从关系”，如果将A删除，那么B仍然存在，但是指向的将是一个无效的链接。

## 使用限制

+ 硬链接以及软链接创建时，原始文件必须事先存在。
+ 不能对不同的文件系统创建硬链接,即两个文件名要在相同的文件系统下。
+ 软链接可以跨文件系统创建

## 创建命令

硬链接：ln 源文件 链接名

软链接：ln -s 源文件 链接名

